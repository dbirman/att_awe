csvFolder = paste(anFolder,'csv/',sep="")
}
figFolder = paste('/Users/dan/proj/att_awe/analysis/','figures/',type,sep="")
mainTh = read.csv(sprintf('%smainThresholds.csv',csvFolder))
catTh = read.csv(sprintf('%scatThresholds.csv',csvFolder))
run = read.csv(sprintf('%srun04.csv',csvFolder))
mainTh = mainTh %>%
group_by(task,pedestal) %>%
summarise(mu=mean(threshold),ci=sd(threshold)/sqrt(n())*1.96)
main = left_join(mainTh,run)
main = main %>%
ungroup() %>%
mutate(task=factor(task,levels=c(1,2),labels=c('Coherence','Contrast')))
catTh = catTh %>%
group_by(task,pedestal) %>%
summarise(mu=mean(threshold),ci=sd(threshold)/sqrt(n())*1.96)
cat = left_join(catTh,run)
cat = cat %>%
ungroup() %>%
mutate(task=factor(task,levels=c(1,2),labels=c('Coherence','Contrast')))
cat = cat %>%
filter(mu < 1, mu > 0)
fname=sprintf('%s/thresholdPlot_%s.pdf',figFolder,subj)
g = ggplot() +
geom_line(data=main,aes(pedVal,mu,color=task),size=3) +
geom_errorbar(data=main,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci)) +
geom_line(data=cat,aes(pedVal,mu,color=task),linetype='dashed',size=2) +
geom_errorbar(data=cat,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci)) +
theme_bw() +
scale_x_continuous(limits = c(0, .65)) +
scale_y_continuous(limits = c(0, .5))
#geom_errorbar(data=cat,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci))
ggsave(filename=fname,plot=g)
main = cbind(main,catch=0)
cat = cbind(cat,catch=1)
allThresh = rbind(main,cat)
return(allThresh)
}
allThresh25 = getSubjThresholdPlot('behav','s025')
allThresh300 = getSubjThresholdPlot('behav','s300')
aT25 = cbind(allThresh25,subj='25')
aT300 = cbind(allThresh300,subj='300')
allThresh = rbind(aT25,aT300)
allT = allThresh %>%
group_by(task,pedestal,catch) %>%
mutate(muAcross = mean(mu),ciAcross = sd(mu)/sqrt(n())*1.96) %>%
ungroup() %>%
mutate(catch=factor(catch,levels=c(0,1),labels=c('Cued','Catch')))
getSubjThresholdPlot = function(type,subj) {
if (type=='behav') {
anFolder = sprintf('/Users/dan/data/coherentContrast/%s/analysis/',subj)
csvFolder = paste(anFolder,'csv/',sep="")
} else {
anFolder = sprintf('/Users/dan/data/cohcon/scan2/%s/analysis/',subj)
csvFolder = paste(anFolder,'csv/',sep="")
}
figFolder = paste('/Users/dan/proj/att_awe/analysis/','figures/',type,sep="")
mainTh = read.csv(sprintf('%smainThresholds.csv',csvFolder))
catTh = read.csv(sprintf('%scatThresholds.csv',csvFolder))
run = read.csv(sprintf('%srun04.csv',csvFolder))
mainTh = mainTh %>%
group_by(task,pedestal) %>%
summarise(mu=mean(threshold),ci=sd(threshold)/sqrt(n())*1.96)
main = left_join(mainTh,run)
main = main %>%
ungroup() %>%
mutate(task=factor(task,levels=c(1,2),labels=c('Coherence','Contrast')))
catTh = catTh %>%
group_by(task,pedestal) %>%
summarise(mu=mean(threshold),ci=sd(threshold)/sqrt(n())*1.96)
cat = left_join(catTh,run)
cat = cat %>%
ungroup() %>%
mutate(task=factor(task,levels=c(1,2),labels=c('Coherence','Contrast')))
cat = cat %>%
filter(mu < 1, mu > 0)
fname=sprintf('%s/thresholdPlot_%s.pdf',figFolder,subj)
g = ggplot() +
geom_line(data=main,aes(pedVal,mu,color=task),size=3) +
geom_errorbar(data=main,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci)) +
geom_line(data=cat,aes(pedVal,mu,color=task),linetype='dashed',size=2) +
geom_errorbar(data=cat,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci)) +
theme_bw() +
scale_x_continuous(limits = c(0, .65)) +
scale_y_continuous(limits = c(0, .5))+
theme(text = element_text(size=20))
#geom_errorbar(data=cat,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci))
ggsave(filename=fname,plot=g)
main = cbind(main,catch=0)
cat = cbind(cat,catch=1)
allThresh = rbind(main,cat)
return(allThresh)
}
allThresh25 = getSubjThresholdPlot('behav','s025')
allThresh300 = getSubjThresholdPlot('behav','s300')
aT25 = cbind(allThresh25,subj='25')
aT300 = cbind(allThresh300,subj='300')
allThresh = rbind(aT25,aT300)
allT = allThresh %>%
group_by(task,pedestal,catch) %>%
mutate(muAcross = mean(mu),ciAcross = sd(mu)/sqrt(n())*1.96) %>%
ungroup() %>%
mutate(catch=factor(catch,levels=c(0,1),labels=c('Cued','Catch')))
getSubjThresholdPlot = function(type,subj) {
if (type=='behav') {
anFolder = sprintf('/Users/dan/data/coherentContrast/%s/analysis/',subj)
csvFolder = paste(anFolder,'csv/',sep="")
} else {
anFolder = sprintf('/Users/dan/data/cohcon/scan2/%s/analysis/',subj)
csvFolder = paste(anFolder,'csv/',sep="")
}
figFolder = paste('/Users/dan/proj/att_awe/analysis/','figures/',type,sep="")
mainTh = read.csv(sprintf('%smainThresholds.csv',csvFolder))
catTh = read.csv(sprintf('%scatThresholds.csv',csvFolder))
run = read.csv(sprintf('%srun04.csv',csvFolder))
mainTh = mainTh %>%
group_by(task,pedestal) %>%
summarise(mu=mean(threshold),ci=sd(threshold)/sqrt(n())*1.96)
main = left_join(mainTh,run)
main = main %>%
ungroup() %>%
mutate(task=factor(task,levels=c(1,2),labels=c('Coherence','Contrast')))
catTh = catTh %>%
group_by(task,pedestal) %>%
summarise(mu=mean(threshold),ci=sd(threshold)/sqrt(n())*1.96)
cat = left_join(catTh,run)
cat = cat %>%
ungroup() %>%
mutate(task=factor(task,levels=c(1,2),labels=c('Coherence','Contrast')))
cat = cat %>%
filter(mu < 1, mu > 0)
fname=sprintf('%s/thresholdPlot_%s.pdf',figFolder,subj)
g = ggplot() +
geom_line(data=main,aes(pedVal,mu,color=task),size=3) +
geom_errorbar(data=main,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci)) +
geom_line(data=cat,aes(pedVal,mu,color=task),linetype='dashed',size=2) +
geom_errorbar(data=cat,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci)) +
theme_bw() +
scale_color_brewer() +
scale_x_continuous(limits = c(0, .65)) +
scale_y_continuous(limits = c(0, .5))+
theme(text = element_text(size=20))
#geom_errorbar(data=cat,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci))
ggsave(filename=fname,plot=g)
main = cbind(main,catch=0)
cat = cbind(cat,catch=1)
allThresh = rbind(main,cat)
return(allThresh)
}
allThresh25 = getSubjThresholdPlot('behav','s025')
allThresh300 = getSubjThresholdPlot('behav','s300')
aT25 = cbind(allThresh25,subj='25')
aT300 = cbind(allThresh300,subj='300')
allThresh = rbind(aT25,aT300)
allT = allThresh %>%
group_by(task,pedestal,catch) %>%
mutate(muAcross = mean(mu),ciAcross = sd(mu)/sqrt(n())*1.96) %>%
ungroup() %>%
mutate(catch=factor(catch,levels=c(0,1),labels=c('Cued','Catch')))
getSubjThresholdPlot = function(type,subj) {
if (type=='behav') {
anFolder = sprintf('/Users/dan/data/coherentContrast/%s/analysis/',subj)
csvFolder = paste(anFolder,'csv/',sep="")
} else {
anFolder = sprintf('/Users/dan/data/cohcon/scan2/%s/analysis/',subj)
csvFolder = paste(anFolder,'csv/',sep="")
}
figFolder = paste('/Users/dan/proj/att_awe/analysis/','figures/',type,sep="")
mainTh = read.csv(sprintf('%smainThresholds.csv',csvFolder))
catTh = read.csv(sprintf('%scatThresholds.csv',csvFolder))
run = read.csv(sprintf('%srun04.csv',csvFolder))
mainTh = mainTh %>%
group_by(task,pedestal) %>%
summarise(mu=mean(threshold),ci=sd(threshold)/sqrt(n())*1.96)
main = left_join(mainTh,run)
main = main %>%
ungroup() %>%
mutate(task=factor(task,levels=c(1,2),labels=c('Coherence','Contrast')))
catTh = catTh %>%
group_by(task,pedestal) %>%
summarise(mu=mean(threshold),ci=sd(threshold)/sqrt(n())*1.96)
cat = left_join(catTh,run)
cat = cat %>%
ungroup() %>%
mutate(task=factor(task,levels=c(1,2),labels=c('Coherence','Contrast')))
cat = cat %>%
filter(mu < 1, mu > 0)
fname=sprintf('%s/thresholdPlot_%s.pdf',figFolder,subj)
g = ggplot() +
geom_line(data=main,aes(pedVal,mu,color=task),size=3) +
geom_errorbar(data=main,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci)) +
geom_line(data=cat,aes(pedVal,mu,color=task),linetype='dashed',size=2) +
geom_errorbar(data=cat,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci)) +
theme_bw() +
scale_color_brewer(palette='PuOr') +
scale_x_continuous(limits = c(0, .65)) +
scale_y_continuous(limits = c(0, .5))+
theme(text = element_text(size=20))
#geom_errorbar(data=cat,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci))
ggsave(filename=fname,plot=g)
main = cbind(main,catch=0)
cat = cbind(cat,catch=1)
allThresh = rbind(main,cat)
return(allThresh)
}
allThresh25 = getSubjThresholdPlot('behav','s025')
allThresh300 = getSubjThresholdPlot('behav','s300')
aT25 = cbind(allThresh25,subj='25')
aT300 = cbind(allThresh300,subj='300')
allThresh = rbind(aT25,aT300)
allT = allThresh %>%
group_by(task,pedestal,catch) %>%
mutate(muAcross = mean(mu),ciAcross = sd(mu)/sqrt(n())*1.96) %>%
ungroup() %>%
mutate(catch=factor(catch,levels=c(0,1),labels=c('Cued','Catch')))
getSubjThresholdPlot = function(type,subj) {
if (type=='behav') {
anFolder = sprintf('/Users/dan/data/coherentContrast/%s/analysis/',subj)
csvFolder = paste(anFolder,'csv/',sep="")
} else {
anFolder = sprintf('/Users/dan/data/cohcon/scan2/%s/analysis/',subj)
csvFolder = paste(anFolder,'csv/',sep="")
}
figFolder = paste('/Users/dan/proj/att_awe/analysis/','figures/',type,sep="")
mainTh = read.csv(sprintf('%smainThresholds.csv',csvFolder))
catTh = read.csv(sprintf('%scatThresholds.csv',csvFolder))
run = read.csv(sprintf('%srun04.csv',csvFolder))
mainTh = mainTh %>%
group_by(task,pedestal) %>%
summarise(mu=mean(threshold),ci=sd(threshold)/sqrt(n())*1.96)
main = left_join(mainTh,run)
main = main %>%
ungroup() %>%
mutate(task=factor(task,levels=c(1,2),labels=c('Coherence','Contrast')))
catTh = catTh %>%
group_by(task,pedestal) %>%
summarise(mu=mean(threshold),ci=sd(threshold)/sqrt(n())*1.96)
cat = left_join(catTh,run)
cat = cat %>%
ungroup() %>%
mutate(task=factor(task,levels=c(1,2),labels=c('Coherence','Contrast')))
cat = cat %>%
filter(mu < 1, mu > 0)
fname=sprintf('%s/thresholdPlot_%s.pdf',figFolder,subj)
g = ggplot() +
geom_line(data=main,aes(pedVal,mu,color=task),size=3) +
geom_errorbar(data=main,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci)) +
geom_line(data=cat,aes(pedVal,mu,color=task),linetype='dashed',size=2) +
geom_errorbar(data=cat,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci)) +
theme_bw() +
scale_color_brewer(palette='Paired') +
scale_x_continuous(limits = c(0, .65)) +
scale_y_continuous(limits = c(0, .5))+
theme(text = element_text(size=20))
#geom_errorbar(data=cat,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci))
ggsave(filename=fname,plot=g)
main = cbind(main,catch=0)
cat = cbind(cat,catch=1)
allThresh = rbind(main,cat)
return(allThresh)
}
allThresh25 = getSubjThresholdPlot('behav','s025')
allThresh300 = getSubjThresholdPlot('behav','s300')
aT25 = cbind(allThresh25,subj='25')
aT300 = cbind(allThresh300,subj='300')
allThresh = rbind(aT25,aT300)
allT = allThresh %>%
group_by(task,pedestal,catch) %>%
mutate(muAcross = mean(mu),ciAcross = sd(mu)/sqrt(n())*1.96) %>%
ungroup() %>%
mutate(catch=factor(catch,levels=c(0,1),labels=c('Cued','Catch')))
getSubjThresholdPlot = function(type,subj) {
if (type=='behav') {
anFolder = sprintf('/Users/dan/data/coherentContrast/%s/analysis/',subj)
csvFolder = paste(anFolder,'csv/',sep="")
} else {
anFolder = sprintf('/Users/dan/data/cohcon/scan2/%s/analysis/',subj)
csvFolder = paste(anFolder,'csv/',sep="")
}
figFolder = paste('/Users/dan/proj/att_awe/analysis/','figures/',type,sep="")
mainTh = read.csv(sprintf('%smainThresholds.csv',csvFolder))
catTh = read.csv(sprintf('%scatThresholds.csv',csvFolder))
run = read.csv(sprintf('%srun04.csv',csvFolder))
mainTh = mainTh %>%
group_by(task,pedestal) %>%
summarise(mu=mean(threshold),ci=sd(threshold)/sqrt(n())*1.96)
main = left_join(mainTh,run)
main = main %>%
ungroup() %>%
mutate(task=factor(task,levels=c(1,2),labels=c('Coherence','Contrast')))
catTh = catTh %>%
group_by(task,pedestal) %>%
summarise(mu=mean(threshold),ci=sd(threshold)/sqrt(n())*1.96)
cat = left_join(catTh,run)
cat = cat %>%
ungroup() %>%
mutate(task=factor(task,levels=c(1,2),labels=c('Coherence','Contrast')))
cat = cat %>%
filter(mu < 1, mu > 0)
fname=sprintf('%s/thresholdPlot_%s.pdf',figFolder,subj)
g = ggplot() +
geom_line(data=main,aes(pedVal,mu,color=task),size=3) +
geom_errorbar(data=main,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci)) +
geom_line(data=cat,aes(pedVal,mu,color=task),linetype='dashed',size=2) +
geom_errorbar(data=cat,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci)) +
theme_bw() +
scale_color_brewer(palette='Dark2') +
scale_x_continuous(limits = c(0, .65)) +
scale_y_continuous(limits = c(0, .5))+
theme(text = element_text(size=20))
#geom_errorbar(data=cat,aes(pedVal,mu,color=task,ymin=mu-ci,ymax=mu+ci))
ggsave(filename=fname,plot=g)
main = cbind(main,catch=0)
cat = cbind(cat,catch=1)
allThresh = rbind(main,cat)
return(allThresh)
}
allThresh25 = getSubjThresholdPlot('behav','s025')
allThresh300 = getSubjThresholdPlot('behav','s300')
aT25 = cbind(allThresh25,subj='25')
aT300 = cbind(allThresh300,subj='300')
allThresh = rbind(aT25,aT300)
allT = allThresh %>%
group_by(task,pedestal,catch) %>%
mutate(muAcross = mean(mu),ciAcross = sd(mu)/sqrt(n())*1.96) %>%
ungroup() %>%
mutate(catch=factor(catch,levels=c(0,1),labels=c('Cued','Catch')))
figFolder = '/Users/dan/proj/att_awe/analysis/figures/scan/'
pdf(file=sprintf('%s/thresholdPlot_Across.pdf',figFolder))
allT %>%
filter(catch='Cued') %>%
ggplot(data=.,aes(pedVal,muAcross,color=task,linetype=catch)) +
geom_line() +
#geom_line(aes(pedVal,mu,fill=subj,color=task,linetype=catch),alpha=.25) +
geom_errorbar(aes(ymin=muAcross-ciAcross,ymax=muAcross+ciAcross)) +
theme_bw() +
ylab('Threshold') +
xlab('Pedestal (%)') +
xlim(0,.7) +
ylim(-.1,.5)
#     coord_trans(xtrans = 'log10',ytrans = 'log10') +
#     annotation_logticks(scaled=FALSE)
dev.off()
figFolder = '/Users/dan/proj/att_awe/analysis/figures/behav/'
pdf(file=sprintf('%s/thresholdPlot_Across.pdf',figFolder))
allT %>%
filter(catch='Cued') %>%
ggplot(data=.,aes(pedVal,muAcross,color=task,linetype=catch)) +
geom_line() +
#geom_line(aes(pedVal,mu,fill=subj,color=task,linetype=catch),alpha=.25) +
geom_errorbar(aes(ymin=muAcross-ciAcross,ymax=muAcross+ciAcross)) +
theme_bw() +
ylab('Threshold') +
xlab('Pedestal (%)') +
xlim(0,.7) +
ylim(-.1,.5)
#     coord_trans(xtrans = 'log10',ytrans = 'log10') +
#     annotation_logticks(scaled=FALSE)
dev.off()
head(allT)
figFolder = '/Users/dan/proj/att_awe/analysis/figures/behav/'
pdf(file=sprintf('%s/thresholdPlot_Across.pdf',figFolder))
allT %>%
filter(catch=='Cued') %>%
ggplot(data=.,aes(pedVal,muAcross,color=task,linetype=catch)) +
geom_line() +
#geom_line(aes(pedVal,mu,fill=subj,color=task,linetype=catch),alpha=.25) +
geom_errorbar(aes(ymin=muAcross-ciAcross,ymax=muAcross+ciAcross)) +
theme_bw() +
ylab('Threshold') +
xlab('Pedestal (%)') +
xlim(0,.7) +
ylim(-.1,.5)
#     coord_trans(xtrans = 'log10',ytrans = 'log10') +
#     annotation_logticks(scaled=FALSE)
dev.off()
figFolder = '/Users/dan/proj/att_awe/analysis/figures/behav/'
pdf(file=sprintf('%s/thresholdPlot_Across.pdf',figFolder))
allT %>%
filter(catch=='Cued') %>%
ggplot(data=.,aes(pedVal,muAcross,color=task,linetype=catch)) +
geom_line() +
#geom_line(aes(pedVal,mu,fill=subj,color=task,linetype=catch),alpha=.25) +
geom_errorbar(aes(ymin=muAcross-ciAcross,ymax=muAcross+ciAcross)) +
theme_bw() +
ylab('Threshold') +
xlab('Pedestal (%)') +
xlim(0,.7) +
ylim(-.1,.5) +
scale_color_brewer('Dark2')
#     coord_trans(xtrans = 'log10',ytrans = 'log10') +
#     annotation_logticks(scaled=FALSE)
dev.off()
figFolder = '/Users/dan/proj/att_awe/analysis/figures/behav/'
pdf(file=sprintf('%s/thresholdPlot_Across.pdf',figFolder))
allT %>%
filter(catch=='Cued') %>%
ggplot(data=.,aes(pedVal,muAcross,color=task,linetype=catch)) +
geom_line(size=3) +
#geom_line(aes(pedVal,mu,fill=subj,color=task,linetype=catch),alpha=.25) +
geom_errorbar(aes(ymin=muAcross-ciAcross,ymax=muAcross+ciAcross)) +
theme_bw() +
ylab('Threshold') +
xlab('Pedestal (%)') +
xlim(0,.7) +
ylim(-.1,.5) +
theme(text = element_text(size=20)) +
scale_color_brewer(palette='Dark2')
#     coord_trans(xtrans = 'log10',ytrans = 'log10') +
#     annotation_logticks(scaled=FALSE)
dev.off()
figFolder = '/Users/dan/proj/att_awe/analysis/figures/behav/'
pdf(file=sprintf('%s/thresholdPlot_Across.pdf',figFolder))
allT %>%
filter(catch=='Cued') %>%
select(-catch) %>%
ggplot(data=.,aes(pedVal,muAcross,color=task,linetype=catch)) +
geom_line(size=3) +
#geom_line(aes(pedVal,mu,fill=subj,color=task,linetype=catch),alpha=.25) +
geom_errorbar(aes(ymin=muAcross-ciAcross,ymax=muAcross+ciAcross)) +
theme_bw() +
ylab('Threshold') +
xlab('Pedestal (%)') +
xlim(0,.7) +
ylim(-.1,.5) +
theme(text = element_text(size=20)) +
scale_color_brewer(palette='Dark2')
#     coord_trans(xtrans = 'log10',ytrans = 'log10') +
#     annotation_logticks(scaled=FALSE)
dev.off()
figFolder = '/Users/dan/proj/att_awe/analysis/figures/behav/'
pdf(file=sprintf('%s/thresholdPlot_Across.pdf',figFolder))
allT %>%
filter(catch=='Cued') %>%
ggplot(data=.,aes(pedVal,muAcross,color=task,linetype=catch)) +
geom_line(size=3) +
#geom_line(aes(pedVal,mu,fill=subj,color=task,linetype=catch),alpha=.25) +
geom_errorbar(aes(ymin=muAcross-ciAcross,ymax=muAcross+ciAcross)) +
theme_bw() +
ylab('Threshold') +
xlab('Pedestal (%)') +
xlim(0,.7) +
ylim(-.1,.5) +
theme(text = element_text(size=20)) +
scale_color_brewer(palette='Dark2')
#     coord_trans(xtrans = 'log10',ytrans = 'log10') +
#     annotation_logticks(scaled=FALSE)
dev.off()
figFolder = '/Users/dan/proj/att_awe/analysis/figures/behav/'
pdf(file=sprintf('%s/thresholdPlot_Across.pdf',figFolder))
allT %>%
filter(catch=='Cued') %>%
ggplot(data=.,aes(pedVal,muAcross,color=task,linetype=catch)) +
geom_line(size=3) +
#geom_line(aes(pedVal,mu,fill=subj,color=task,linetype=catch),alpha=.25) +
geom_errorbar(aes(ymin=muAcross-ciAcross,ymax=muAcross+ciAcross),size=2) +
theme_bw() +
ylab('Threshold') +
xlab('Pedestal (%)') +
xlim(0,.7) +
ylim(-.1,.5) +
theme(text = element_text(size=20)) +
scale_color_brewer(palette='Dark2')
#     coord_trans(xtrans = 'log10',ytrans = 'log10') +
#     annotation_logticks(scaled=FALSE)
dev.off()
figFolder = '/Users/dan/proj/att_awe/analysis/figures/behav/'
pdf(file=sprintf('%s/thresholdPlot_Across.pdf',figFolder))
allT %>%
filter(catch=='Cued') %>%
ggplot(data=.,aes(pedVal,muAcross,color=task,linetype=catch)) +
geom_line(size=3) +
#geom_line(aes(pedVal,mu,fill=subj,color=task,linetype=catch),alpha=.25) +
geom_errorbar(aes(ymin=muAcross-ciAcross,ymax=muAcross+ciAcross),size=2,width=0) +
theme_bw() +
ylab('Threshold') +
xlab('Pedestal (%)') +
xlim(0,.7) +
ylim(-.1,.5) +
theme(text = element_text(size=20)) +
scale_color_brewer(palette='Dark2')
#     coord_trans(xtrans = 'log10',ytrans = 'log10') +
#     annotation_logticks(scaled=FALSE)
dev.off()
allThresh25 = getSubjThresholdPlot('scan','s025')
allThresh300 = getSubjThresholdPlot('scan','s300')
aT25 = cbind(allThresh25,subj='25')
aT300 = cbind(allThresh300,subj='300')
allThresh = rbind(aT25,aT300)
allT = allThresh %>%
group_by(task,pedestal,catch) %>%
mutate(muAcross = mean(mu),ciAcross = sd(mu)/sqrt(n())*1.96) %>%
ungroup() %>%
mutate(catch=factor(catch,levels=c(0,1),labels=c('Cued','Catch')))
figFolder = '/Users/dan/proj/att_awe/analysis/figures/scan/'
pdf(file=sprintf('%s/thresholdPlot_Across.pdf',figFolder))
allT %>%
filter(catch=='Cued') %>%
ggplot(data=.,aes(pedVal,muAcross,color=task,linetype=catch)) +
geom_line(size=3) +
#geom_line(aes(pedVal,mu,fill=subj,color=task,linetype=catch),alpha=.25) +
geom_errorbar(aes(ymin=muAcross-ciAcross,ymax=muAcross+ciAcross),size=2,width=0) +
theme_bw() +
ylab('Threshold') +
xlab('Pedestal (%)') +
xlim(0,.7) +
ylim(-.1,.5) +
theme(text = element_text(size=20)) +
scale_color_brewer(palette='Dark2')
#     coord_trans(xtrans = 'log10',ytrans = 'log10') +
#     annotation_logticks(scaled=FALSE)
dev.off()
